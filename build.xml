<project name="PostgresLiquibase" default="build" basedir=".">
    <property file="database.properties"/>

    <target name="build">
        <exec executable="docker" output="true">
            <arg value="build"/>
            <arg value="-t"/>
            <arg value="postgres-liquibase"/>
        </exec>
        <exec executable="docker" output="true">
            <arg value="run"/>
            <arg value="-d"/>
            <arg value="--name"/>
            <arg value="postgres-liquibase-container"/>
            <arg value="-e"/>
            <arg value="POSTGRES_DB=${POSTGRES_DB}"/>
            <arg value="-e"/>
            <arg value="POSTGRES_USER=${POSTGRES_USER}"/>
            <arg value="-e"/>
            <arg value="POSTGRES_PASSWORD=${POSTGRES_PASSWORD}"/>
            <arg value="postgres-liquibase"/>
        </exec>
    </target>
</project>
